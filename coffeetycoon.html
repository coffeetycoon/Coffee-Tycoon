<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>☕ Coffee Tycoon</title>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  * { font-family: 'Comfortaa', cursive; }
  body { 
    margin: 0; 
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); 
    color: #f5f5f5; 
    min-height: 100vh;
  }
  
  header { 
    padding: 24px; 
    text-align: center; 
    background: rgba(45, 45, 45, 0.95);
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  }
  
  header h1 { 
    margin: 0 0 8px 0; 
    font-size: 2.5rem; 
    font-weight: 700;
    background: linear-gradient(135deg, #d4a574, #8b6f47);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  header p { 
    margin: 4px 0; 
    font-size: 1rem; 
    opacity: 0.9;
  }
  
  .status-bar {
    display: flex;
    justify-content: center;
    gap: 32px;
    margin: 16px 0;
    flex-wrap: wrap;
  }
  
  .stat {
    background: rgba(255, 255, 255, 0.1);
    padding: 12px 24px;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    backdrop-filter: blur(5px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  }
  
  main { 
    max-width: 1400px; 
    margin: 0 auto; 
    padding: 24px; 
  }
  
  .tabs {
    display: flex;
    gap: 12px;
    margin-bottom: 24px;
    justify-content: center;
    flex-wrap: wrap;
  }
  
  .tab-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid transparent;
    padding: 12px 28px;
    border-radius: 12px;
    color: #f5f5f5;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(5px);
  }
  
  .tab-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  }
  
  .tab-btn.active {
    background: linear-gradient(135deg, #d4a574, #8b6f47);
    border-color: #d4a574;
    color: #1a1a2e;
  }
  
  .content-area {
    background: rgba(45, 45, 45, 0.8);
    border-radius: 16px;
    padding: 24px;
    min-height: 400px;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  }
  
  .tab-content { display: none; }
  .tab-content.active { display: block; }
  
  /* Shop Items */
  .shop-item {
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
  }
  
  .shop-item:hover {
    border-color: rgba(212, 165, 116, 0.5);
    background: rgba(255, 255, 255, 0.08);
    transform: translateX(4px);
  }
  
  .shop-item.affordable {
    border-color: rgba(76, 175, 80, 0.5);
    background: rgba(76, 175, 80, 0.1);
  }
  
  .item-info {
    flex: 1;
  }
  
  .item-name {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 4px;
    color: #d4a574;
  }
  
  .item-effect {
    font-size: 0.95rem;
    opacity: 0.9;
  }
  
  .item-actions {
    display: flex;
    gap: 12px;
    align-items: center;
  }
  
  .quantity-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 600;
    min-width: 40px;
    text-align: center;
  }
  
  .buy-btn {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    border: none;
    padding: 12px 24px;
    border-radius: 10px;
    color: #fff;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
  }
  
  .buy-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
  }
  
  .buy-btn:active:not(:disabled) {
    transform: translateY(0);
  }
  
  .buy-btn:disabled {
    background: rgba(100, 100, 100, 0.5);
    cursor: not-allowed;
    box-shadow: none;
  }
  
  .cost-tile {
    background: rgba(212, 165, 116, 0.2);
    border: 2px solid rgba(212, 165, 116, 0.5);
    padding: 10px 20px;
    border-radius: 10px;
    font-weight: 700;
    font-size: 1.1rem;
    color: #d4a574;
    white-space: nowrap;
  }
  
  /* Owned Items */
  .owned-item {
    background: rgba(255, 255, 255, 0.05);
    border-left: 4px solid #d4a574;
    padding: 16px;
    margin-bottom: 12px;
    border-radius: 8px;
  }
  
  .owned-item-name {
    font-size: 1.1rem;
    font-weight: 700;
    color: #d4a574;
    margin-bottom: 4px;
  }
  
  .owned-item-stats {
    font-size: 0.95rem;
    opacity: 0.9;
  }
  
  /* Achievements */
  .achievement-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 16px;
  }
  
  .achievement {
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 16px;
    text-align: center;
    transition: all 0.3s ease;
  }
  
  .achievement.unlocked {
    border-color: #ffd700;
    background: rgba(255, 215, 0, 0.1);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
  }
  
  .achievement-icon {
    font-size: 2rem;
    margin-bottom: 8px;
  }
  
  .achievement-name {
    font-weight: 700;
    font-size: 1rem;
    margin-bottom: 4px;
  }
  
  .achievement-desc {
    font-size: 0.85rem;
    opacity: 0.8;
  }
  
  /* Click Area */
  #clickArea {
    text-align: center;
    padding: 40px;
  }
  
  #coffeeButton {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    background: linear-gradient(135deg, #d4a574, #8b6f47);
    border: none;
    font-size: 4rem;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 8px 24px rgba(212, 165, 116, 0.4);
    margin-bottom: 16px;
  }
  
  #coffeeButton:hover {
    transform: scale(1.05);
    box-shadow: 0 12px 32px rgba(212, 165, 116, 0.5);
  }
  
  #coffeeButton:active {
    transform: scale(0.95);
  }
  
  .click-instruction {
    font-size: 1.2rem;
    font-weight: 600;
    margin-top: 16px;
  }
  
  /* Toast */
  .toast {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(76, 175, 80, 0.95);
    color: #fff;
    padding: 16px 24px;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.4);
    z-index: 10000;
    animation: slideIn 0.3s ease, slideOut 0.3s ease 2.7s;
    font-weight: 600;
  }
  
  .toast.achievement {
    background: linear-gradient(135deg, #ffd700, #ffed4e);
    color: #1a1a2e;
  }
  
  @keyframes slideIn { 
    from { transform: translateX(400px); opacity: 0; } 
    to { transform: translateX(0); opacity: 1; } 
  }
  @keyframes slideOut { 
    from { transform: translateX(0); opacity: 1; } 
    to { transform: translateX(400px); opacity: 0; } 
  }
  
  .empty-state {
    text-align: center;
    padding: 40px;
    opacity: 0.6;
    font-size: 1.1rem;
  }

  /* Instructions Overlay */
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    animation: fadeIn 0.3s ease;
  }

  .overlay.hidden {
    display: none;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .instructions-modal {
    background: linear-gradient(135deg, #2d2d2d, #1a1a2e);
    border: 3px solid #d4a574;
    border-radius: 20px;
    padding: 40px;
    max-width: 600px;
    width: 90%;
    box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
    animation: slideUp 0.4s ease;
  }

  @keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  .instructions-modal h2 {
    margin-top: 0;
    color: #d4a574;
    font-size: 2rem;
    text-align: center;
    margin-bottom: 24px;
  }

  .instructions-modal h3 {
    color: #d4a574;
    font-size: 1.3rem;
    margin-top: 24px;
    margin-bottom: 12px;
  }

  .instructions-modal p {
    font-size: 1.05rem;
    line-height: 1.6;
    margin-bottom: 16px;
    opacity: 0.95;
  }

  .key-guide {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 16px;
    margin: 16px 0;
  }

  .key-item {
    display: flex;
    align-items: center;
    margin: 8px 0;
    font-size: 1.05rem;
  }

  .key {
    background: linear-gradient(135deg, #d4a574, #8b6f47);
    color: #1a1a2e;
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 700;
    min-width: 40px;
    text-align: center;
    margin-right: 16px;
    box-shadow: 0 2px 8px rgba(212, 165, 116, 0.3);
  }

  .start-btn {
    background: linear-gradient(135deg, #d4a574, #8b6f47);
    border: none;
    padding: 16px 48px;
    border-radius: 12px;
    color: #1a1a2e;
    font-size: 1.2rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 16px rgba(212, 165, 116, 0.4);
    display: block;
    margin: 24px auto 0;
  }

  .start-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(212, 165, 116, 0.5);
  }

  .start-btn:active {
    transform: translateY(0);
  }

</style>
</head>
<body>
<div id="instructionsOverlay" class="overlay">
  <div class="instructions-modal">
    <h2>☕ Welcome to Coffee Tycoon!</h2>
    
    <h3>How to Play:</h3>
    <p>Build your coffee empire from the ground up! Click the coffee cup to brew coffee manually, then purchase items from the Shop to automate your production and increase your Coffees Per Second (CPS).</p>
    
    <h3>Quick Keys:</h3>
    <div class="key-guide">
      <div class="key-item">
        <span class="key">1</span>
        <span>Brew House - Manual brewing</span>
      </div>
      <div class="key-item">
        <span class="key">2</span>
        <span>Shop - Purchase production items</span>
      </div>
      <div class="key-item">
        <span class="key">3</span>
        <span>Achievements - Track your progress</span>
      </div>
    </div>
    
    <h3>Goal:</h3>
    <p>Earn as much coffee as possible! Purchase items to automate production, unlock all achievements, and become the ultimate Coffee Tycoon!</p>
    
    <button class="start-btn" onclick="closeInstructions()">Start Brewing!</button>
  </div>
</div>

<header>
  <h1>Coffee Tycoon</h1>
  <p>Brew coffee, earn money, and build your empire!</p>
  
  <div class="status-bar">
    <div class="stat">☕ Coffee: <span id="money">0</span></div>
    <div class="stat">⚡ CPS: <span id="cps">0</span></div>
  </div>
</header>

<main>
  <div class="tabs">
    <button class="tab-btn active" data-tab="click">Brew House</button>
    <button class="tab-btn" data-tab="shop">Shop</button>
    <button class="tab-btn" data-tab="achievements">Achievements</button>
  </div>
  
  <div class="content-area">
    <div id="clickTab" class="tab-content active">
      <div id="clickArea">
        <button id="coffeeButton">☕</button>
        <div class="click-instruction">Click the cup to brew coffee!</div>
        <div style="margin-top: 20px; font-size: 1rem; opacity: 0.8;">
          Each click: +1 Coffee
        </div>
      </div>
    </div>
    
    <div id="shopTab" class="tab-content">
      <h2 style="margin-top: 0; color: #d4a574;">Shop</h2>
      <div id="shopList"></div>
    </div>
    
    <div id="achievementsTab" class="tab-content">
      <h2 style="margin-top: 0; color: #d4a574;">Achievements</h2>
      <div id="achievementsList" class="achievement-grid"></div>
    </div>
  </div>
</main>

<script>
// Game State
const gameState = {
  money: 0,
  coffee: 0,
  cps: 0,
  clickValue: 1,
  items: {},
  unlockedAchievements: new Set()
};

// Shop Items
const shopItems = [
  { id: 'brewer', name: 'Auto Brewer', baseCost: 50, cps: 1, scale: 1.15 },
  { id: 'barista', name: 'Barista', baseCost: 150, cps: 5, scale: 1.15 },
  { id: 'grinder', name: 'Coffee Grinder', baseCost: 400, cps: 10, scale: 1.2 },
  { id: 'espresso', name: 'Espresso Machine', baseCost: 800, cps: 25, scale: 1.2 },
  { id: 'roaster', name: 'Coffee Roaster', baseCost: 2000, cps: 60, scale: 1.25 },
  { id: 'shop', name: 'New Coffee Shop', baseCost: 5000, cps: 150, scale: 1.25 },
  { id: 'plantation', name: 'Coffee Plantation', baseCost: 15000, cps: 400, scale: 1.3 },
  { id: 'franchise', name: 'Coffee Franchise', baseCost: 50000, cps: 1200, scale: 1.3 }
];

shopItems.forEach(item => {
  gameState.items[item.id] = { count: 0, cost: item.baseCost };
});

// Achievements
const achievements = [
  { id: 'first_item', name: '🥉 Novice Collector', desc: 'Purchase your first item', check: () => Object.values(gameState.items).some(i => i.count >= 1) },
  { id: 'five_any', name: '🥈 Apprentice Purchaser', desc: 'Have 5 of any single item', check: () => Object.values(gameState.items).some(i => i.count >= 5) },
  { id: 'ten_any', name: '🥇 Seasoned Buyer', desc: 'Have 10 of any single item', check: () => Object.values(gameState.items).some(i => i.count >= 10) },
  { id: 'fifty_any', name: '💎 Bulk Investor', desc: 'Have 50 of any single item', check: () => Object.values(gameState.items).some(i => i.count >= 50) },
  { id: 'hundred_any', name: '🏆 Master Tycoon', desc: 'Have 100 of any single item', check: () => Object.values(gameState.items).some(i => i.count >= 100) },
  { id: 'coffee_10', name: '☕ Ten Brews', desc: 'Brew 10 coffees', check: () => gameState.coffee >= 10 },
  { id: 'coffee_100', name: '☕ Hundred Brews', desc: 'Brew 100 coffees', check: () => gameState.coffee >= 100 },
  { id: 'coffee_1000', name: '☕ Thousand Brews', desc: 'Brew 1,000 coffees', check: () => gameState.coffee >= 1000 },
  { id: 'coffee_10000', name: '☕ Ten Thousand Brews', desc: 'Brew 10,000 coffees', check: () => gameState.coffee >= 10000 },
  { id: 'coffee_100000', name: '☕ Hundred Thousand Brews', desc: 'Brew 100,000 coffees', check: () => gameState.coffee >= 100000 }
];

// Initialize items for each shop item
shopItems.forEach(item => {
  achievements.push({
    id: `five_${item.id}`,
    name: `🥈 ${item.name} Enthusiast`,
    desc: `Own 5 ${item.name}s`,
    check: () => gameState.items[item.id].count >= 5
  });
});

// UI Functions
function updateUI() {
  document.getElementById('money').textContent = Math.floor(gameState.coffee).toLocaleString();
  document.getElementById('cps').textContent = gameState.cps.toFixed(1);
  renderShop();
  renderAchievements();
  checkAchievements();
}

function renderShop() {
  const container = document.getElementById('shopList');
  container.innerHTML = '';
  
  shopItems.forEach(item => {
    const itemState = gameState.items[item.id];
    const canAfford = gameState.coffee >= itemState.cost;
    
    const div = document.createElement('div');
    div.className = 'shop-item' + (canAfford ? ' affordable' : '');
    
    div.innerHTML = `
      <div class="item-info">
        <div class="item-name">${item.name}</div>
        <div class="item-effect">Effect: +${item.cps} CPS</div>
      </div>
      <div class="item-actions">
        <div class="quantity-display">${itemState.count}</div>
        <button class="buy-btn" ${!canAfford ? 'disabled' : ''}>BUY</button>
        <div class="cost-tile">☕ ${Math.floor(itemState.cost).toLocaleString()}</div>
      </div>
    `;
    
    div.querySelector('.buy-btn').onclick = () => buyItem(item.id);
    container.appendChild(div);
  });
}

function renderOwned() {
  // Removed - no longer needed
}

function renderAchievements() {
  const container = document.getElementById('achievementsList');
  container.innerHTML = '';
  
  achievements.forEach(ach => {
    const unlocked = gameState.unlockedAchievements.has(ach.id);
    const div = document.createElement('div');
    div.className = 'achievement' + (unlocked ? ' unlocked' : '');
    
    div.innerHTML = `
      <div class="achievement-icon">${unlocked ? ach.name.split(' ')[0] : '🔒'}</div>
      <div class="achievement-name">${unlocked ? ach.name.substring(ach.name.indexOf(' ') + 1) : '???'}</div>
      <div class="achievement-desc">${unlocked ? ach.desc : 'Locked'}</div>
    `;
    container.appendChild(div);
  });
}

function buyItem(itemId) {
  const shopItem = shopItems.find(i => i.id === itemId);
  const itemState = gameState.items[itemId];
  
  if (gameState.coffee >= itemState.cost) {
    gameState.coffee -= itemState.cost;
    itemState.count++;
    gameState.cps += shopItem.cps;
    itemState.cost = Math.floor(shopItem.baseCost * Math.pow(shopItem.scale, itemState.count));
    
    showToast(`Purchased ${shopItem.name}!`);
    updateUI();
  }
}

function showToast(message, isAchievement = false) {
  const toast = document.createElement('div');
  toast.className = 'toast' + (isAchievement ? ' achievement' : '');
  toast.textContent = message;
  document.body.appendChild(toast);
  setTimeout(() => toast.remove(), 3000);
}

function checkAchievements() {
  achievements.forEach(ach => {
    if (!gameState.unlockedAchievements.has(ach.id) && ach.check()) {
      gameState.unlockedAchievements.add(ach.id);
      showToast(`🏆 Achievement Unlocked: ${ach.name.substring(ach.name.indexOf(' ') + 1)}`, true);
      renderAchievements();
    }
  });
}

// Click Handler
document.getElementById('coffeeButton').onclick = () => {
  gameState.coffee += gameState.clickValue;
  updateUI();
  
  const btn = document.getElementById('coffeeButton');
  btn.style.transform = 'scale(0.9)';
  setTimeout(() => btn.style.transform = 'scale(1)', 100);
};

// Tab System
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.onclick = () => {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    
    btn.classList.add('active');
    const tabId = btn.dataset.tab + 'Tab';
    document.getElementById(tabId).classList.add('active');
  };
});

// Game Loop
setInterval(() => {
  gameState.coffee += gameState.cps;
  updateUI();
}, 1000);

// Initialize
updateUI();

// Close instructions overlay
function closeInstructions() {
  document.getElementById('instructionsOverlay').classList.add('hidden');
}

// Keyboard shortcuts
document.addEventListener('keydown', (e) => {
  const key = e.key;
  
  if (key === '1') {
    switchToTab('click');
  } else if (key === '2') {
    switchToTab('shop');
  } else if (key === '3') {
    switchToTab('achievements');
  }
});

function switchToTab(tabName) {
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
  
  const btn = document.querySelector(`[data-tab="${tabName}"]`);
  const content = document.getElementById(tabName + 'Tab');
  
  if (btn && content) {
    btn.classList.add('active');
    content.classList.add('active');
  }
}
</script>
</body>
</html>
